<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>HORD · 霍德英语学习管家 — Hold Your Word</title>
  <meta name="description" content="Hold Your Word｜HORD · 霍德英语学习管家（HORD English Companion）。构建持久的英语能力：网页划词标记、批注金句、艾宾浩斯复习、导入导出。支持支付宝/微信支付，License Key 激活，最多 2 台设备。" />
  <link rel="icon" type="image/png" href="logo.png?v=20260203" />
  <link rel="shortcut icon" type="image/png" href="logo.png?v=20260203" />
  <link rel="apple-touch-icon" href="logo.png?v=20260203" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            brand: {
              600: "#8B5CF6",
              700: "#7C3AED",
              800: "#6D28D9"
            }
          },
          boxShadow: {
            glow: "0 0 40px rgba(139, 92, 246, 0.18)"
          }
        }
      }
    }
  </script>
  <style>
    :root { --grid-color: rgba(0, 0, 0, 0.06); }
    .dark { --grid-color: rgba(255, 255, 255, 0.06); }
    .bg-grid {
      background-image:
        radial-gradient(circle at 1px 1px, var(--grid-color) 1px, transparent 0);
      background-size: 22px 22px;
    }

    /* Simple masonry for screenshots (no fixed aspect ratio). */
    .masonry { column-gap: 1rem; }
    .masonry-item { break-inside: avoid; margin-bottom: 1rem; }

    @keyframes screensProgress {
      from { transform: scaleX(0); }
      to { transform: scaleX(1); }
    }
    #screensProgressBar { transform-origin: left; }
    .screens-progress-on { animation: screensProgress 3.5s linear infinite; }
  </style>
</head>

<body class="bg-[#F6F3FF] text-[#1A1A22] antialiased dark:bg-[#0B0B10] dark:text-white">
  <div class="relative min-h-screen overflow-hidden">
    <div class="pointer-events-none absolute -top-24 left-1/2 h-[520px] w-[520px] -translate-x-1/2 rounded-full bg-purple-300/35 blur-[140px] dark:bg-purple-600/20"></div>
    <div class="pointer-events-none absolute top-1/3 right-[-120px] h-[420px] w-[420px] rounded-full bg-purple-300/25 blur-[140px] dark:bg-purple-700/15"></div>
    <div class="pointer-events-none absolute bottom-[-120px] left-[-120px] h-[420px] w-[420px] rounded-full bg-purple-200/30 blur-[140px] dark:bg-purple-600/10"></div>
    <div class="pointer-events-none absolute inset-0 bg-grid opacity-20"></div>

    <header class="fixed inset-x-0 top-0 z-30 border-b border-black/5 bg-[#F6F3FF]/70 backdrop-blur dark:border-white/10 dark:bg-[#0B0B10]/60">
      <div class="mx-auto flex max-w-6xl items-center justify-between px-5 py-4 sm:px-6 sm:py-5 lg:px-8">
        <a class="flex items-center gap-3" href="#top" aria-label="回到顶部">
          <div class="flex h-11 w-11 items-center justify-center rounded-xl">
            <img src="logo.png" alt="HORD · 霍德英语学习管家 图标" class="h-10 w-10 object-contain"/>
          </div>
          <div class="leading-tight">
            <div class="text-lg font-semibold tracking-wide"><span class="text-violet-600 dark:text-violet-300">HORD</span> · 霍德英语学习管家</div>
            <div class="mt-0.5 text-[11px] font-medium tracking-[0.18em] text-slate-500 dark:text-white/55">HORD English Companion</div>
          </div>
        </a>

        <nav class="hidden gap-8 text-sm text-slate-600 md:flex dark:text-white/70">
          <a class="hover:text-slate-900 dark:hover:text-white" href="#features">功能</a>
          <a class="hover:text-slate-900 dark:hover:text-white" href="#workflow">流程</a>
          <a class="hover:text-slate-900 dark:hover:text-white" href="#screens">截图</a>
          <a class="hover:text-slate-900 dark:hover:text-white" href="#pricing">价格</a>
          <a class="hover:text-slate-900 dark:hover:text-white" href="#faq">FAQ</a>
        </nav>

        <div class="flex items-center gap-3">
          <button id="themeToggle" class="hidden items-center gap-2 rounded-full border border-black/10 px-3 py-2 text-xs text-slate-700 hover:text-slate-900 dark:border-white/10 dark:text-white/80 dark:hover:text-white md:flex" type="button" aria-label="主题切换">
            <svg class="h-4 w-4 dark:hidden" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="4"></circle>
              <path d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M4.93 19.07l1.41-1.41M17.66 6.34l1.41-1.41"></path>
            </svg>
            <svg class="h-4 w-4 hidden dark:block" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
            </svg>
            主题
          </button>

          <a href="activate.html" class="hidden rounded-full border border-black/10 px-4 py-2 text-sm text-slate-700 hover:text-slate-900 dark:border-white/10 dark:text-white/80 dark:hover:text-white md:block">
            激活
          </a>
          <a href="buy.html" class="rounded-full bg-gradient-to-r from-purple-500 to-purple-600 px-5 py-2 text-sm font-medium text-white shadow-glow hover:brightness-110">
            立即购买
          </a>
        </div>
      </div>
    </header>

    <div aria-hidden="true" class="h-[72px] sm:h-[84px]"></div>

    <section id="top" class="relative z-10">
      <div class="mx-auto max-w-6xl px-5 pt-12 pb-10 sm:px-6 sm:pt-14 sm:pb-12 lg:px-8 lg:pt-20 lg:pb-16">
        <div class="max-w-3xl">
          <p class="text-xs uppercase tracking-[0.35em] text-slate-500 dark:text-white/50">HORD English Companion</p>

          <h1 class="mt-5 text-3xl font-semibold leading-tight sm:text-5xl lg:text-6xl">
            <span class="block text-slate-900 dark:text-white"><span class="text-violet-600 dark:text-violet-300">HORD</span> · 霍德英语学习管家</span>
            <span class="mt-3 block bg-gradient-to-r from-purple-400 to-purple-600 bg-clip-text text-transparent">Hold Your Word</span>
            <span class="mt-3 block text-xl font-medium text-slate-700 dark:text-white/80 sm:text-2xl">构建持久的英语能力</span>
          </h1>

          <p class="mt-6 text-lg text-slate-600 dark:text-white/70 leading-relaxed">
            在阅读中标记，在复习中掌握。用更稳定的采集体验 + 艾宾浩斯节奏，减少遗忘，让词汇长期沉淀。
          </p>

          <div class="mt-8 flex flex-wrap gap-3 sm:gap-4">
            <a href="buy.html" class="w-full rounded-full bg-gradient-to-r from-purple-500 to-purple-600 px-6 py-3 text-center text-sm font-medium text-white shadow-glow hover:brightness-110 sm:w-auto">
              立即锁定早鸟价（88 RMB / $25 / 年）
            </a>
            <a href="activate.html" class="w-full rounded-full border border-black/10 px-6 py-3 text-center text-sm text-slate-700 hover:text-slate-900 dark:border-white/10 dark:text-white/80 dark:hover:text-white sm:w-auto">
              输入 License 激活
            </a>
            <a href="install.html" class="w-full rounded-full border border-black/10 px-6 py-3 text-center text-sm text-slate-700 hover:text-slate-900 dark:border-white/10 dark:text-white/80 dark:hover:text-white sm:w-auto">
              安装插件
            </a>
          </div>
          <p class="mt-3 text-xs text-slate-500 dark:text-white/55">
            限时早鸟：<span class="line-through opacity-75">原价 168 RMB / $50</span> → <span class="font-semibold text-purple-700 dark:text-purple-200">现价 88 RMB / $25</span>
          </p>

          <div class="mt-8 grid gap-3 text-xs text-slate-600 dark:text-white/60 sm:mt-10 sm:grid-cols-3">
            <div class="rounded-2xl border border-black/10 bg-white/70 px-4 py-3 dark:border-white/10 dark:bg-white/5">
              一次性付费 = 1 年授权（不自动续费）
            </div>
            <div class="rounded-2xl border border-black/10 bg-white/70 px-4 py-3 dark:border-white/10 dark:bg-white/5">
              最多 2 台设备激活（激活时联网一次）
            </div>
            <div class="rounded-2xl border border-black/10 bg-white/70 px-4 py-3 dark:border-white/10 dark:bg-white/5">
              中国用户支持支付宝/微信支付
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="screens" class="relative z-10 scroll-mt-28">
      <div class="mx-auto max-w-6xl px-5 py-12 sm:px-6 sm:py-14 lg:px-8">
        <div class="mb-8 sm:mb-10">
          <div class="flex flex-wrap items-start justify-between gap-4">
            <div class="max-w-2xl">
              <h2 class="text-2xl font-semibold sm:text-3xl">真实界面，一眼就懂</h2>
              <p class="mt-3 text-slate-600 dark:text-white/70">把插件的关键交互放在首屏区域，让用户理解“怎么用”和“好在哪”。</p>
            </div>
            <button
              id="screensThemeToggle"
              type="button"
              class="rounded-full bg-gradient-to-r from-violet-600 to-purple-600 px-5 py-2.5 text-sm font-medium text-white shadow-glow hover:brightness-110"
            >
              🌙 切换到夜间联动预览
            </button>
          </div>
          <div class="mt-3">
            <span id="screensThemeStatus" class="inline-flex items-center rounded-full border border-violet-500/30 bg-violet-500/10 px-3 py-1 text-xs font-medium text-violet-700 dark:text-violet-300">
              当前：日间联动预览（网页 + 插件截图）
            </span>
          </div>
        </div>
        <div class="grid gap-6 lg:grid-cols-[1.2fr_0.8fr]">
          <div class="rounded-3xl border border-black/10 bg-white/70 p-4 dark:border-white/10 dark:bg-white/5">
            <div class="flex items-start justify-between gap-4">
              <div>
                <h3 class="text-sm font-semibold text-slate-900 dark:text-white">应用界面</h3>
                <p class="mt-1 text-xs text-slate-600 dark:text-white/60">自动轮播 · 点击放大 · ←/→ 切换</p>
              </div>
              <button
                id="screensAutoplay"
                type="button"
                class="rounded-full border border-black/10 bg-white/80 px-3 py-1.5 text-xs text-slate-700 hover:text-slate-900 dark:border-white/10 dark:bg-white/5 dark:text-white/70 dark:hover:text-white"
                aria-pressed="false"
              >
                自动播放
              </button>
            </div>

            <button
              id="screensMainButton"
              type="button"
              class="group mt-4 block w-full overflow-hidden rounded-2xl border border-black/5 bg-gradient-to-br from-slate-100 via-white to-white p-2 text-left shadow-sm dark:border-white/10 dark:from-white/5 dark:via-white/5 dark:to-white/0"
              aria-label="放大查看截图"
            >
              <img
                id="screensMainImage"
                src="screens/manange单词本/manange单词本日间1.png"
                alt="HORD · 霍德英语学习管家 应用界面：单词本总览"
                class="max-h-[520px] w-full rounded-xl object-contain"
                loading="eager"
                decoding="async"
              />
              <div class="mt-2 flex items-center justify-between gap-3 px-1">
                <p id="screensMainCaption" class="text-xs text-slate-600 dark:text-white/60">单词本总览</p>
                <p class="text-xs text-slate-500 dark:text-white/50">点击放大</p>
              </div>

              <div class="mt-2 h-1.5 w-full overflow-hidden rounded-full bg-black/5 dark:bg-white/10">
                <div id="screensProgressBar" class="h-full w-full rounded-full bg-purple-500/70"></div>
              </div>
            </button>

            <div class="mt-4 flex flex-wrap gap-2">
              <span class="rounded-full border border-black/10 bg-white/70 px-3 py-1 text-xs text-slate-700 dark:border-white/10 dark:bg-white/5 dark:text-white/70">划词弹窗</span>
              <span class="rounded-full border border-black/10 bg-white/70 px-3 py-1 text-xs text-slate-700 dark:border-white/10 dark:bg-white/5 dark:text-white/70">批注金句</span>
              <span class="rounded-full border border-black/10 bg-white/70 px-3 py-1 text-xs text-slate-700 dark:border-white/10 dark:bg-white/5 dark:text-white/70">复习节奏</span>
              <span class="rounded-full border border-black/10 bg-white/70 px-3 py-1 text-xs text-slate-700 dark:border-white/10 dark:bg-white/5 dark:text-white/70">导入导出</span>
              <span class="rounded-full border border-black/10 bg-white/70 px-3 py-1 text-xs text-slate-700 dark:border-white/10 dark:bg-white/5 dark:text-white/70">统计面板</span>
            </div>
          </div>

          <div class="rounded-3xl border border-black/10 bg-white/70 p-4 dark:border-white/10 dark:bg-white/5">
            <h3 class="text-sm font-semibold text-slate-900 dark:text-white">更多截图</h3>
            <p class="mt-1 text-xs text-slate-600 dark:text-white/60">支持任意比例；夜间模式会自动切换到 dark 截图（若存在）。</p>
            <div id="screensFilters" class="mt-3 flex flex-wrap gap-2"></div>
            <p id="screensCount" class="mt-2 text-[11px] text-slate-500 dark:text-white/50">已加载 0 张</p>

            <div id="screensThumbs" class="masonry mt-4 columns-1 sm:columns-2 lg:columns-2"></div>
          </div>
        </div>
      </div>
    </section>

    <section id="features" class="relative z-10 scroll-mt-28">
      <div class="mx-auto max-w-6xl px-5 py-12 sm:px-6 sm:py-14 lg:px-8">
        <div class="mb-10 max-w-2xl">
          <h2 class="text-2xl font-semibold sm:text-3xl">更少打扰，更高效率</h2>
          <p class="mt-3 text-slate-600 dark:text-white/70">
            为高频阅读场景设计：稳定采集 + 结构化管理 + 节奏复习，让“标记”变成“掌握”。以下功能介绍均对应你的实际截图。
          </p>
        </div>

        <div class="space-y-10">
          <article class="grid gap-8 lg:grid-cols-[0.75fr_1.85fr] lg:items-center">
            <div>
              <p class="text-xs uppercase tracking-[0.2em] text-slate-500 dark:text-white/50">Feature 01</p>
              <h3 class="mt-2 text-xl font-semibold">划词弹窗，秒懂语境</h3>
              <p class="mt-3 text-sm text-slate-600 dark:text-white/70">
                划词或双击即可弹出翻译与释义，支持句子级理解与夜间模式，保持阅读节奏不被打断。
              </p>
              <div class="mt-4 flex flex-wrap gap-2 text-[11px] text-slate-600 dark:text-white/60">
                <span class="rounded-full border border-black/10 px-2 py-1 dark:border-white/10">划词翻译</span>
                <span class="rounded-full border border-black/10 px-2 py-1 dark:border-white/10">句子理解</span>
                <span class="rounded-full border border-black/10 px-2 py-1 dark:border-white/10">夜间模式</span>
              </div>
            </div>
            <figure class="rounded-3xl border border-black/10 bg-white/70 p-3 shadow-sm transition hover:border-black/20 hover:bg-white/80 focus:outline-none focus:ring-2 focus:ring-purple-500/40 dark:border-white/10 dark:bg-white/5 dark:hover:border-white/20 dark:hover:bg-white/7 cursor-zoom-in" data-feature-zoom role="button" tabindex="0" aria-label="查看大图">
              <img
                src="screens/content弹窗/日间模式翻译.png"
                data-feature-src-light="screens/content弹窗/日间模式翻译.png"
                data-feature-src-dark="screens/content弹窗/夜间模式翻译.png"
                alt="划词弹窗翻译界面截图"
                class="w-full rounded-2xl object-contain"
                loading="lazy"
                decoding="async"
              />
              <figcaption class="mt-3 text-xs text-slate-500 dark:text-white/60">划词弹窗翻译（网页内即时呈现）</figcaption>
            </figure>
          </article>

          <article class="grid gap-8 lg:grid-cols-[1.85fr_0.75fr] lg:items-center">
            <div class="order-1 lg:order-2">
              <p class="text-xs uppercase tracking-[0.2em] text-slate-500 dark:text-white/50">Feature 02</p>
              <h3 class="mt-2 text-xl font-semibold">单词本集中管理</h3>
              <p class="mt-3 text-sm text-slate-600 dark:text-white/70">
                标记的词自动进入单词本，可批注、来源与状态管理，适合长期积累与复盘。
              </p>
              <div class="mt-4 flex flex-wrap gap-2 text-[11px] text-slate-600 dark:text-white/60">
                <span class="rounded-full border border-black/10 px-2 py-1 dark:border-white/10">单词本</span>
                <span class="rounded-full border border-black/10 px-2 py-1 dark:border-white/10">批注</span>
                <span class="rounded-full border border-black/10 px-2 py-1 dark:border-white/10">来源</span>
              </div>
            </div>
            <figure class="order-2 lg:order-1 rounded-3xl border border-black/10 bg-white/70 p-3 shadow-sm transition hover:border-black/20 hover:bg-white/80 focus:outline-none focus:ring-2 focus:ring-purple-500/40 dark:border-white/10 dark:bg-white/5 dark:hover:border-white/20 dark:hover:bg-white/7 cursor-zoom-in" data-feature-zoom role="button" tabindex="0" aria-label="查看大图">
              <img
                src="screens/manange单词本/manange单词本日间1.png"
                data-feature-src-light="screens/manange单词本/manange单词本日间1.png"
                data-feature-src-dark="screens/manange单词本/manange单词本夜间1.png"
                alt="单词本管理界面截图"
                class="w-full rounded-2xl object-contain"
                loading="lazy"
                decoding="async"
              />
              <figcaption class="mt-3 text-xs text-slate-500 dark:text-white/60">单词本总览</figcaption>
            </figure>
          </article>

          <article class="grid gap-8 lg:grid-cols-[0.75fr_1.85fr] lg:items-center">
            <div>
              <p class="text-xs uppercase tracking-[0.2em] text-slate-500 dark:text-white/50">Feature 03</p>
              <h3 class="mt-2 text-xl font-semibold">Popup 菜单，一键入口</h3>
              <p class="mt-3 text-sm text-slate-600 dark:text-white/70">
                浏览器工具栏随时打开，快速查看今日任务、状态与核心设置。
              </p>
              <div class="mt-4 flex flex-wrap gap-2 text-[11px] text-slate-600 dark:text-white/60">
                <span class="rounded-full border border-black/10 px-2 py-1 dark:border-white/10">快速入口</span>
                <span class="rounded-full border border-black/10 px-2 py-1 dark:border-white/10">任务概览</span>
                <span class="rounded-full border border-black/10 px-2 py-1 dark:border-white/10">快捷设置</span>
              </div>
            </div>
            <figure class="rounded-3xl border border-black/10 bg-white/70 p-3 shadow-sm transition hover:border-black/20 hover:bg-white/80 focus:outline-none focus:ring-2 focus:ring-purple-500/40 dark:border-white/10 dark:bg-white/5 dark:hover:border-white/20 dark:hover:bg-white/7 cursor-zoom-in" data-feature-zoom role="button" tabindex="0" aria-label="查看大图">
              <img
                src="screens/popup菜单/_日间菜单栏.png"
                data-feature-src-light="screens/popup菜单/_日间菜单栏.png"
                data-feature-src-dark="screens/popup菜单/夜间菜单栏.png"
                alt="浏览器 Popup 菜单截图"
                class="w-full rounded-2xl object-contain"
                loading="lazy"
                decoding="async"
              />
              <figcaption class="mt-3 text-xs text-slate-500 dark:text-white/60">Popup 菜单（日间）</figcaption>
            </figure>
          </article>

          <article class="grid gap-8 lg:grid-cols-[1.85fr_0.75fr] lg:items-center">
            <div class="order-1 lg:order-2">
              <p class="text-xs uppercase tracking-[0.2em] text-slate-500 dark:text-white/50">Feature 04</p>
              <h3 class="mt-2 text-xl font-semibold">艾宾浩斯节奏复习</h3>
              <p class="mt-3 text-sm text-slate-600 dark:text-white/70">
                按遗忘曲线推进复习计划，展示任务与统计趋势，减少无效重复。
              </p>
              <div class="mt-4 flex flex-wrap gap-2 text-[11px] text-slate-600 dark:text-white/60">
                <span class="rounded-full border border-black/10 px-2 py-1 dark:border-white/10">复习计划</span>
                <span class="rounded-full border border-black/10 px-2 py-1 dark:border-white/10">进度追踪</span>
                <span class="rounded-full border border-black/10 px-2 py-1 dark:border-white/10">统计趋势</span>
              </div>
            </div>
            <figure class="order-2 lg:order-1 rounded-3xl border border-black/10 bg-white/70 p-3 shadow-sm transition hover:border-black/20 hover:bg-white/80 focus:outline-none focus:ring-2 focus:ring-purple-500/40 dark:border-white/10 dark:bg-white/5 dark:hover:border-white/20 dark:hover:bg-white/7 cursor-zoom-in" data-feature-zoom role="button" tabindex="0" aria-label="查看大图">
              <img
                src="screens/test艾宾浩斯/艾宾浩斯日间模式2.png"
                data-feature-src-light="screens/test艾宾浩斯/艾宾浩斯日间模式2.png"
                data-feature-src-dark="screens/test艾宾浩斯/艾宾浩斯2.png"
                alt="艾宾浩斯复习任务面板截图"
                class="w-full rounded-2xl object-contain"
                loading="lazy"
                decoding="async"
              />
              <figcaption class="mt-3 text-xs text-slate-500 dark:text-white/60">复习任务面板</figcaption>
            </figure>
          </article>

          <article class="grid gap-8 lg:grid-cols-[0.75fr_1.85fr] lg:items-center">
            <div>
              <p class="text-xs uppercase tracking-[0.2em] text-slate-500 dark:text-white/50">Feature 05</p>
              <h3 class="mt-2 text-xl font-semibold">金句导出，分享你的积累</h3>
              <p class="mt-3 text-sm text-slate-600 dark:text-white/70">
                两个方向：iPhone 锁屏壁纸与社交媒体分享图。把收藏的句子导出为图片，多模板可选，便于分享与沉淀。
              </p>
              <p class="mt-3 text-xs text-slate-500 dark:text-white/60">
                社交媒体话题：#HORD霍得英语学习管家 #我用锁屏学英语
              </p>
              <div class="mt-4 flex flex-wrap gap-2 text-[11px] text-slate-600 dark:text-white/60">
                <span class="rounded-full border border-black/10 px-2 py-1 dark:border-white/10">金句导出</span>
                <span class="rounded-full border border-black/10 px-2 py-1 dark:border-white/10">模板</span>
                <span class="rounded-full border border-black/10 px-2 py-1 dark:border-white/10">分享</span>
              </div>
            </div>
            <figure class="rounded-3xl border border-black/10 bg-white/70 p-3 shadow-sm transition hover:border-black/20 hover:bg-white/80 focus:outline-none focus:ring-2 focus:ring-purple-500/40 dark:border-white/10 dark:bg-white/5 dark:hover:border-white/20 dark:hover:bg-white/7 cursor-zoom-in" data-feature-zoom role="button" tabindex="0" aria-label="查看大图">
              <img
                src="screens/金句导出/保存金句社交媒体.png"
                data-feature-src-light="screens/金句导出/保存金句社交媒体.png"
                data-feature-src-dark="screens/金句导出/保存金句iPhone.png"
                alt="金句导出界面截图"
                class="w-full rounded-2xl object-contain"
                loading="lazy"
                decoding="async"
              />
              <figcaption class="mt-3 text-xs text-slate-500 dark:text-white/60">金句导出：社交媒体 / iPhone 锁屏</figcaption>
            </figure>
          </article>

          <article class="grid gap-8 lg:grid-cols-[1.85fr_0.75fr] lg:items-center">
            <div class="order-1 lg:order-2">
              <p class="text-xs uppercase tracking-[0.2em] text-slate-500 dark:text-white/50">Feature 06</p>
              <h3 class="mt-2 text-xl font-semibold">iPhone 壁纸功能</h3>
              <p class="mt-3 text-sm text-slate-600 dark:text-white/70">
                把单词或金句生成壁纸，锁屏即可复习，让记忆在日常里持续发生。
              </p>
              <div class="mt-4 flex flex-wrap gap-2 text-[11px] text-slate-600 dark:text-white/60">
                <span class="rounded-full border border-black/10 px-2 py-1 dark:border-white/10">壁纸</span>
                <span class="rounded-full border border-black/10 px-2 py-1 dark:border-white/10">随时复习</span>
                <span class="rounded-full border border-black/10 px-2 py-1 dark:border-white/10">iPhone</span>
              </div>
            </div>
            <figure class="order-2 lg:order-1 rounded-3xl border border-black/10 bg-white/70 p-3 shadow-sm transition hover:border-black/20 hover:bg-white/80 focus:outline-none focus:ring-2 focus:ring-purple-500/40 dark:border-white/10 dark:bg-white/5 dark:hover:border-white/20 dark:hover:bg-white/7 cursor-zoom-in" data-feature-zoom role="button" tabindex="0" aria-label="查看大图">
              <img
                src="screens/iPhone壁纸功能/hord-social-20260205-iphoneWallpaper-iphone-mockup.png"
                data-feature-src-light="screens/iPhone壁纸功能/hord-social-20260205-iphoneWallpaper-iphone-mockup.png"
                data-feature-src-dark="screens/iPhone壁纸功能/hord-social-20260205-iphoneWallpaper-iphone-inhand.png"
                alt="iPhone 壁纸功能展示截图"
                class="w-full rounded-2xl object-contain"
                loading="lazy"
                decoding="async"
              />
              <figcaption class="mt-3 text-xs text-slate-500 dark:text-white/60">iPhone 壁纸预览</figcaption>
            </figure>
          </article>
        </div>
      </div>
    </section>

    <section id="workflow" class="relative z-10 scroll-mt-28">
      <div class="mx-auto max-w-6xl px-5 py-12 sm:px-6 sm:py-14 lg:px-8">
        <div class="mb-10 max-w-2xl">
          <h2 class="text-2xl font-semibold sm:text-3xl">轻量流程，强大效果</h2>
          <p class="mt-3 text-slate-600 dark:text-white/70">三步完成从获取到掌握：把“当下遇到的词”，变成“长期属于你的能力”。</p>
        </div>

        <div class="grid gap-6 md:grid-cols-3">
          <div class="rounded-2xl border border-black/10 bg-white/70 p-6 dark:border-white/10 dark:bg-white/5">
            <p class="text-xs uppercase tracking-[0.2em] text-slate-500 dark:text-white/50">Step 01</p>
            <h3 class="mt-2 text-lg font-semibold">标记</h3>
            <p class="mt-2 text-sm text-slate-600 dark:text-white/70">在阅读中快速标记生词与句子，减少打断。</p>
          </div>

          <div class="rounded-2xl border border-black/10 bg-white/70 p-6 dark:border-white/10 dark:bg-white/5">
            <p class="text-xs uppercase tracking-[0.2em] text-slate-500 dark:text-white/50">Step 02</p>
            <h3 class="mt-2 text-lg font-semibold">整理</h3>
            <p class="mt-2 text-sm text-slate-600 dark:text-white/70">用批注、来源与状态管理把词汇结构化，方便复盘。</p>
          </div>

          <div class="rounded-2xl border border-black/10 bg-white/70 p-6 dark:border-white/10 dark:bg-white/5">
            <p class="text-xs uppercase tracking-[0.2em] text-slate-500 dark:text-white/50">Step 03</p>
            <h3 class="mt-2 text-lg font-semibold">复习</h3>
            <p class="mt-2 text-sm text-slate-600 dark:text-white/70">按遗忘曲线自动推进复习节奏，让记忆稳定沉淀。</p>
          </div>
        </div>
      </div>
    </section>

    <section id="pricing" class="relative z-10 scroll-mt-28">
      <div class="mx-auto max-w-6xl px-5 py-12 sm:px-6 sm:py-14 lg:px-8">
        <div class="mb-10 max-w-2xl">
          <h2 class="text-2xl font-semibold sm:text-3xl">透明、简单的定价</h2>
          <p class="mt-3 text-slate-600 dark:text-white/70">
            先买断（1 年授权），后续可选择续期。中国用户支持支付宝/微信；购买后通过邮件获得 License Key。
          </p>
        </div>

        <div class="grid gap-6 md:grid-cols-2">
          <div class="rounded-2xl border border-black/10 bg-white/70 p-8 dark:border-white/10 dark:bg-white/5">
            <div class="flex items-center justify-between">
              <h3 class="text-lg font-semibold">免费版</h3>
              <span class="text-xs rounded-full border border-black/10 px-3 py-1 text-slate-600 dark:border-white/10 dark:text-white/60">入门体验</span>
            </div>
            <p class="mt-2 text-sm text-slate-600 dark:text-white/70">适合轻量使用与试用核心流程。</p>

            <div class="mt-6 text-3xl font-semibold">¥0<span class="text-base font-normal text-slate-500 dark:text-white/60"> / 永久</span></div>

            <ul class="mt-6 space-y-3 text-sm text-slate-600 dark:text-white/70">
              <li>标记单词：最多 200 个</li>
              <li>批注：最多 10 条</li>
              <li>基础复习</li>
              <li>金句导出图片：支持（基础模板 Light）</li>
              <li class="text-slate-400 dark:text-white/50">不支持导入/导出、批量操作、金句高级导出设置</li>
            </ul>

            <a href="install.html" class="mt-8 block w-full rounded-full border border-black/10 px-6 py-3 text-center text-sm text-slate-700 hover:text-slate-900 dark:border-white/10 dark:text-white/80 dark:hover:text-white">
              安装并开始使用
            </a>
          </div>

          <div class="relative rounded-2xl border border-purple-500/55 bg-gradient-to-br from-purple-50/95 via-white/90 to-purple-50/75 p-8 shadow-glow ring-1 ring-purple-500/35 dark:from-purple-900/20 dark:via-white/5 dark:to-purple-900/10 dark:bg-white/5">
            <div class="pointer-events-none absolute -top-3 right-6 rounded-full bg-gradient-to-r from-purple-500 to-purple-600 px-3 py-1 text-[11px] font-semibold text-white shadow-md">
              推荐升级
            </div>
            <div class="flex items-center justify-between">
              <h3 class="text-lg font-semibold">专业版 Pro</h3>
              <span class="text-xs rounded-full bg-purple-600/20 px-3 py-1 text-purple-700 dark:text-purple-200">最受欢迎</span>
            </div>

            <p class="mt-2 text-sm text-slate-600 dark:text-white/70">适合长期积累、复习与数据管理。</p>

            <div class="mt-6">
              <div class="inline-flex items-center gap-2 rounded-full border border-purple-500/20 bg-purple-500/10 px-3 py-1 text-xs font-medium text-purple-700 dark:text-purple-200">
                早鸟限时 · 立省 80 RMB / $25
              </div>
              <div class="mt-3 flex flex-wrap items-end gap-x-3 gap-y-1">
                <span class="text-lg text-slate-400 line-through dark:text-white/40">168 RMB / $50</span>
                <span class="text-3xl font-semibold text-purple-700 dark:text-purple-200">88 RMB / $25</span>
                <span class="text-base font-normal text-slate-500 dark:text-white/60">/ 年</span>
              </div>
            </div>
            <p class="mt-3 inline-flex items-center rounded-full bg-purple-600/10 px-3 py-1 text-xs font-medium text-purple-700 dark:text-purple-200">解除容量上限 + 开启高级导出</p>

            <ul class="mt-6 space-y-3 text-sm text-slate-600 dark:text-white/70">
              <li class="flex items-center gap-2"><span class="text-purple-600 dark:text-purple-300">✓</span>标记单词：无限</li>
              <li class="flex items-center gap-2"><span class="text-purple-600 dark:text-purple-300">✓</span>批注：无限</li>
              <li class="flex items-center gap-2"><span class="text-purple-600 dark:text-purple-300">✓</span>导入/导出 + 批量操作（批量切换/删除）</li>
              <li class="flex items-center gap-2"><span class="text-purple-600 dark:text-purple-300">✓</span>高级复习</li>
              <li class="flex items-center gap-2"><span class="text-purple-600 dark:text-purple-300">✓</span>金句导出图片：支持（全部模板，多风格）</li>
              <li class="flex items-center gap-2"><span class="text-purple-600 dark:text-purple-300">✓</span>金句高级导出设置：支持</li>
            </ul>

            <a href="buy.html" class="mt-8 block w-full rounded-full bg-gradient-to-r from-purple-500 to-purple-600 px-6 py-3 text-center text-sm font-medium text-white shadow-glow hover:brightness-110">
              立即购买（获取 License Key）
            </a>
            <p class="mt-3 text-center text-xs font-medium text-purple-700 dark:text-purple-200">适合长期使用者：管理更高效、复习更深入、导出更专业</p>

            <p class="mt-4 text-xs text-slate-500 dark:text-white/50">
              提示：当前阶段不做持续在线验证；仅在激活时联网一次即可。
            </p>
          </div>
        </div>

        <div class="mt-10 rounded-2xl border border-black/10 bg-white/70 p-6 dark:border-white/10 dark:bg-white/5">
          <h4 class="text-base font-semibold">免费版 vs 付费版（Pro）对比</h4>
          <div class="mt-4 overflow-x-auto">
            <table class="w-full text-left text-sm">
              <thead class="text-slate-500 dark:text-white/60">
                <tr>
                  <th class="py-3 pr-4">功能</th>
                  <th class="py-3 pr-4">免费版</th>
                  <th class="py-3 text-purple-700 dark:text-purple-200">付费版（Pro）</th>
                </tr>
              </thead>
              <tbody class="text-slate-600 dark:text-white/75">
                <tr class="border-t border-black/10 dark:border-white/10">
                  <td class="py-3 pr-4">词库容量</td>
                  <td class="py-3 pr-4">最多 200</td>
                  <td class="py-3 font-semibold text-purple-700 dark:text-purple-200">不限</td>
                </tr>
                <tr class="border-t border-black/10 dark:border-white/10">
                  <td class="py-3 pr-4">批注容量</td>
                  <td class="py-3 pr-4">最多 10 条</td>
                  <td class="py-3 font-semibold text-purple-700 dark:text-purple-200">不限</td>
                </tr>
                <tr class="border-t border-black/10 dark:border-white/10">
                  <td class="py-3 pr-4">导入/导出</td>
                  <td class="py-3 pr-4">不支持</td>
                  <td class="py-3 font-semibold text-purple-700 dark:text-purple-200">支持</td>
                </tr>
                <tr class="border-t border-black/10 dark:border-white/10">
                  <td class="py-3 pr-4">批量操作（批量切换/删除）</td>
                  <td class="py-3 pr-4">不支持</td>
                  <td class="py-3 font-semibold text-purple-700 dark:text-purple-200">支持</td>
                </tr>
                <tr class="border-t border-black/10 dark:border-white/10">
                  <td class="py-3 pr-4">复习系统</td>
                  <td class="py-3 pr-4">基础复习</td>
                  <td class="py-3 font-semibold text-purple-700 dark:text-purple-200">高级复习</td>
                </tr>
                <tr class="border-t border-black/10 dark:border-white/10">
                  <td class="py-3 pr-4">金句导出图片</td>
                  <td class="py-3 pr-4">支持</td>
                  <td class="py-3 font-semibold text-purple-700 dark:text-purple-200">支持</td>
                </tr>
                <tr class="border-t border-black/10 dark:border-white/10">
                  <td class="py-3 pr-4">金句模板</td>
                  <td class="py-3 pr-4">基础模板（Light）</td>
                  <td class="py-3 font-semibold text-purple-700 dark:text-purple-200">全部模板（多风格）</td>
                </tr>
                <tr class="border-t border-black/10 dark:border-white/10">
                  <td class="py-3 pr-4">金句高级导出设置</td>
                  <td class="py-3 pr-4">不支持</td>
                  <td class="py-3 font-semibold text-purple-700 dark:text-purple-200">支持</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p class="mt-4 text-sm text-slate-600 dark:text-white/70">
            一句话总结：免费版可完整体验“查词 + 记词 + 基础复习 + 基础金句导出”，Pro 主要解决“容量上限 + 高级管理 + 高级导出”。
          </p>
        </div>
      </div>
    </section>

    <section id="faq" class="relative z-10 scroll-mt-28">
      <div class="mx-auto max-w-6xl px-5 py-12 sm:px-6 sm:py-14 lg:px-8">
        <div class="mb-10 max-w-2xl">
          <h2 class="text-2xl font-semibold sm:text-3xl">常见问题</h2>
          <p class="mt-3 text-slate-600 dark:text-white/70">把关键规则说清楚，减少沟通成本。</p>
        </div>

        <div class="space-y-4">
          <div class="rounded-2xl border border-black/10 bg-white/70 p-6 dark:border-white/10 dark:bg-white/5">
            <h3 class="text-base font-semibold">这是订阅吗？会自动续费吗？</h3>
            <p class="mt-2 text-sm text-slate-600 dark:text-white/70">不是订阅。当前为 1 年授权买断，不会自动扣费；到期后你可以选择是否续期。</p>
          </div>

          <div class="rounded-2xl border border-black/10 bg-white/70 p-6 dark:border-white/10 dark:bg-white/5">
            <h3 class="text-base font-semibold">我如何获得 License Key？</h3>
            <p class="mt-2 text-sm text-slate-600 dark:text-white/70">购买后会通过邮件发送 License Key。你也可以在激活页面输入 key 完成绑定。</p>
          </div>

          <div class="rounded-2xl border border-black/10 bg-white/70 p-6 dark:border-white/10 dark:bg-white/5">
            <h3 class="text-base font-semibold">最多 2 台设备如何定义？会泄露隐私吗？</h3>
            <p class="mt-2 text-sm text-slate-600 dark:text-white/70">设备限制通过本地安装生成的匿名标识（hash）实现，仅用于设备计数，不收集你的真实设备信息。</p>
          </div>

          <div class="rounded-2xl border border-black/10 bg-white/70 p-6 dark:border-white/10 dark:bg-white/5">
            <h3 class="text-base font-semibold">支持中国支付吗？</h3>
            <p class="mt-2 text-sm text-slate-600 dark:text-white/70">支持。购买页提供支付宝/微信支付指引（二维码或跳转链接）。</p>
          </div>

          <div class="rounded-2xl border border-black/10 bg-white/70 p-6 dark:border-white/10 dark:bg-white/5">
            <h3 class="text-base font-semibold">邀请码奖励怎么生效？</h3>
            <p class="mt-2 text-sm text-slate-600 dark:text-white/70">激活时可填写邀请码；双方在成功激活绑定后获得奖励。具体防滥用规则以激活页说明为准。</p>
          </div>
        </div>
      </div>
    </section>

    <section class="relative z-10">
      <div class="mx-auto max-w-6xl px-5 pb-12 sm:px-6 sm:pb-14 lg:px-8">
        <div class="grid gap-6 md:grid-cols-3">
          <div class="rounded-2xl border border-black/10 bg-white/70 p-6 dark:border-white/10 dark:bg-white/5">
            <h3 class="text-base font-semibold">隐私</h3>
            <p class="mt-2 text-sm text-slate-600 dark:text-white/70">默认本地存储，不上传你的阅读内容与生词数据。</p>
          </div>
          <div class="rounded-2xl border border-black/10 bg-white/70 p-6 dark:border-white/10 dark:bg-white/5">
            <h3 class="text-base font-semibold">退款承诺</h3>
            <p class="mt-2 text-sm text-slate-600 dark:text-white/70">如 7 天内无法激活，可联系支持处理退款。</p>
          </div>
          <div class="rounded-2xl border border-black/10 bg-white/70 p-6 dark:border-white/10 dark:bg-white/5">
            <h3 class="text-base font-semibold">联系支持</h3>
            <p class="mt-2 text-sm text-slate-600 dark:text-white/70">support@example.com</p>
          </div>
        </div>
      </div>
    </section>

    <footer class="relative z-10 border-t border-black/10 dark:border-white/10">
      <div class="mx-auto flex max-w-6xl flex-col items-center justify-between gap-4 px-5 py-10 text-sm text-slate-500 dark:text-white/50 md:flex-row lg:px-8">
	        <div class="flex items-center gap-3">
	          <div class="flex h-8 w-8 items-center justify-center rounded-lg border border-black/10 bg-white/80 shadow-sm backdrop-blur dark:border-white/10 dark:bg-white/5">
		            <img src="logo.png" alt="HORD · 霍德英语学习管家 图标" class="h-6 w-6 object-contain"/>
		          </div>
              <div class="leading-tight">
                <div class="font-medium text-slate-700 dark:text-white/80"><span class="text-violet-600 dark:text-violet-300">HORD</span> · 霍德英语学习管家</div>
                <div class="mt-0.5 text-[11px] tracking-[0.2em] text-slate-500 dark:text-white/50">HORD English Companion</div>
              </div>
		        </div>

        <div class="flex flex-wrap items-center justify-center gap-4">
          <a class="hover:text-slate-900 dark:hover:text-white/80" href="privacy.html">隐私政策</a>
          <a class="hover:text-slate-900 dark:hover:text-white/80" href="buy.html">购买</a>
          <a class="hover:text-slate-900 dark:hover:text-white/80" href="activate.html">激活</a>
          <a class="hover:text-slate-900 dark:hover:text-white/80" href="mailto:support@example.com">支持邮箱</a>
        </div>

	        <p>© 2026 HORD · 霍德英语学习管家. All rights reserved.</p>
	      </div>
	    </footer>
  </div>

  <script>
    (function () {
      const root = document.documentElement;
      const saved = localStorage.getItem("theme");
      const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
      if (saved === "dark" || (!saved && prefersDark)) {
        root.classList.add("dark");
      }
    })();

    const isSiteDarkMode = () => document.documentElement.classList.contains("dark");
    const setSiteTheme = (isDark) => {
      const root = document.documentElement;
      root.classList.toggle("dark", Boolean(isDark));
      localStorage.setItem("theme", isDark ? "dark" : "light");
      window.dispatchEvent(new CustomEvent("themechange", { detail: { isDark: Boolean(isDark) } }));
    };
    window.__isSiteDarkMode = isSiteDarkMode;
    window.__setSiteTheme = setSiteTheme;

    const themeToggle = document.getElementById("themeToggle");
    if (themeToggle) {
      themeToggle.addEventListener("click", () => {
        setSiteTheme(!isSiteDarkMode());
      });
    }

    (function () {
      const featureImages = Array.from(document.querySelectorAll("[data-feature-src-light]"));
      if (featureImages.length === 0) return;

      let activeFeatureImage = null;
      let featureModal = null;
      let featureModalImage = null;
      let featureModalCaption = null;

      function getFeatureSources(img, isDark) {
        const light = img.getAttribute("data-feature-src-light") || img.getAttribute("src") || "";
        const dark = img.getAttribute("data-feature-src-dark") || light;
        const preferred = isDark ? dark : light;
        const fallback = light || dark;
        return { preferred, fallback };
      }

      function applyImageWithFallback(imageEl, preferredSrc, fallbackSrc) {
        const fallback = fallbackSrc || preferredSrc;
        if (!imageEl) return;
        imageEl.onerror = null;
        imageEl.onerror = () => {
          if (fallback && imageEl.getAttribute("src") !== fallback) {
            imageEl.setAttribute("src", fallback);
          }
          imageEl.onerror = null;
        };
        imageEl.setAttribute("src", preferredSrc || fallback);
      }

      function applyFeatureImage(isDark) {
        featureImages.forEach((img) => {
          const { preferred, fallback } = getFeatureSources(img, isDark);
          if (!preferred && !fallback) return;
          applyImageWithFallback(img, preferred, fallback);
        });
      }

      function syncFeatureModal(isDark) {
        if (!featureModal || !featureModalImage || !activeFeatureImage) return;
        if (featureModal.classList.contains("hidden")) return;
        const { preferred, fallback } = getFeatureSources(activeFeatureImage, isDark);
        applyImageWithFallback(featureModalImage, preferred, fallback);
        if (featureModalCaption) {
          const caption =
            activeFeatureImage.closest("figure")?.querySelector("figcaption")?.textContent?.trim() ||
            activeFeatureImage.getAttribute("alt") ||
            "";
          featureModalCaption.textContent = caption;
        }
      }

      applyFeatureImage(isSiteDarkMode());
      window.addEventListener("themechange", (event) => {
        const isDark = event?.detail?.isDark ?? isSiteDarkMode();
        applyFeatureImage(Boolean(isDark));
        syncFeatureModal(Boolean(isDark));
      });

      const zoomTargets = Array.from(document.querySelectorAll("[data-feature-zoom]"));
      if (zoomTargets.length === 0) return;

      featureModal = document.createElement("div");
      featureModal.className =
        "fixed inset-0 z-[65] hidden items-center justify-center bg-black/70 p-4 backdrop-blur";
      featureModal.setAttribute("role", "dialog");
      featureModal.setAttribute("aria-modal", "true");
      featureModal.innerHTML = `
        <div class="relative w-full max-w-5xl">
          <button type="button" class="absolute -top-12 right-0 rounded-full bg-white/10 px-3 py-2 text-sm text-white hover:bg-white/20" data-close>关闭</button>
          <div class="rounded-2xl bg-black/30 p-2">
            <img class="max-h-[82vh] w-full rounded-xl object-contain" alt="" />
          </div>
          <div class="mt-3 text-sm text-white/80" data-caption></div>
        </div>
      `;
      document.body.appendChild(featureModal);

      featureModalImage = featureModal.querySelector("img");
      featureModalCaption = featureModal.querySelector("[data-caption]");
      const closeFeatureModalButton = featureModal.querySelector("[data-close]");

      function openFeatureModal(target) {
        const imageEl = target.querySelector("img");
        if (!imageEl) return;
        activeFeatureImage = imageEl;
        syncFeatureModal(isSiteDarkMode());
        featureModal.classList.remove("hidden");
        featureModal.classList.add("flex");
        document.body.style.overflow = "hidden";
      }

      function closeFeatureModal() {
        featureModal.classList.add("hidden");
        featureModal.classList.remove("flex");
        document.body.style.overflow = "";
        activeFeatureImage = null;
      }

      zoomTargets.forEach((target) => {
        target.addEventListener("click", () => openFeatureModal(target));
        target.addEventListener("keydown", (event) => {
          if (event.key === "Enter" || event.key === " ") {
            event.preventDefault();
            openFeatureModal(target);
          }
        });
      });

      featureModal.addEventListener("click", (event) => {
        if (event.target === featureModal) closeFeatureModal();
      });
      closeFeatureModalButton.addEventListener("click", closeFeatureModal);

      document.addEventListener("keydown", (event) => {
        if (featureModal.classList.contains("hidden")) return;
        if (event.key === "Escape") closeFeatureModal();
      });
    })();

    (function () {
      const screensSection = document.getElementById("screens");
      const thumbs = document.getElementById("screensThumbs");
      const screensFilters = document.getElementById("screensFilters");
      const screensCount = document.getElementById("screensCount");
      const mainButton = document.getElementById("screensMainButton");
      const mainImage = document.getElementById("screensMainImage");
      const mainCaption = document.getElementById("screensMainCaption");
      const autoplayButton = document.getElementById("screensAutoplay");
      const screensThemeToggle = document.getElementById("screensThemeToggle");
      const screensThemeStatus = document.getElementById("screensThemeStatus");

      if (!thumbs || !mainButton || !mainImage || !mainCaption) return;
      const screenCatalog = [
        {
          category: "单词本",
          caption: "单词本总览",
          alt: "HORD · 霍德英语学习管家 应用界面：单词本总览",
          light: "screens/manange单词本/manange单词本日间1.png",
          dark: "screens/manange单词本/manange单词本夜间1.png",
        },
        {
          category: "单词本",
          caption: "单词本列表细节",
          alt: "HORD · 霍德英语学习管家 应用界面：单词本列表细节",
          light: "screens/manange单词本/manange单词本日间2.png",
          dark: "screens/manange单词本/manange单词本夜间2.png",
        },
        {
          category: "划词弹窗",
          caption: "划词翻译弹窗",
          alt: "HORD · 霍德英语学习管家 应用界面：划词翻译弹窗",
          light: "screens/content弹窗/日间模式翻译.png",
          dark: "screens/content弹窗/夜间模式翻译.png",
        },
        {
          category: "划词弹窗",
          caption: "划词释义弹窗",
          alt: "HORD · 霍德英语学习管家 应用界面：划词释义弹窗",
          light: "screens/content弹窗/日间模式弹窗.png",
          dark: "screens/content弹窗/夜间网页截图.png",
        },
        {
          category: "划词弹窗",
          caption: "弹窗扩展状态",
          alt: "HORD · 霍德英语学习管家 应用界面：弹窗扩展状态",
          light: "screens/content弹窗/日间模式弹窗2.png",
          dark: "screens/content弹窗/夜间网页截图.png",
        },
        {
          category: "Popup 菜单",
          caption: "菜单栏（日间）",
          alt: "HORD · 霍德英语学习管家 应用界面：菜单栏日间模式",
          light: "screens/popup菜单/_日间菜单栏.png",
          dark: "screens/popup菜单/夜间菜单栏.png",
        },
        {
          category: "艾宾浩斯",
          caption: "复习进度总览",
          alt: "HORD · 霍德英语学习管家 应用界面：艾宾浩斯复习进度总览",
          light: "screens/test艾宾浩斯/艾宾浩斯日间模式0.png",
          dark: "screens/test艾宾浩斯/艾宾浩斯0.png",
        },
        {
          category: "艾宾浩斯",
          caption: "复习任务面板",
          alt: "HORD · 霍德英语学习管家 应用界面：艾宾浩斯复习任务面板",
          light: "screens/test艾宾浩斯/艾宾浩斯日间模式2.png",
          dark: "screens/test艾宾浩斯/艾宾浩斯2.png",
        },
        {
          category: "艾宾浩斯",
          caption: "复习行动状态",
          alt: "HORD · 霍德英语学习管家 应用界面：艾宾浩斯复习行动状态",
          light: "screens/test艾宾浩斯/艾宾浩斯日间模式4.png",
          dark: "screens/test艾宾浩斯/艾宾浩斯4.png",
        },
        {
          category: "艾宾浩斯",
          caption: "复习统计趋势",
          alt: "HORD · 霍德英语学习管家 应用界面：艾宾浩斯复习统计趋势",
          light: "screens/test艾宾浩斯/艾宾浩斯日间模式7.png",
          dark: "screens/test艾宾浩斯/艾宾浩斯7.png",
        },
      ];
      const filterOptions = ["全部", "单词本", "划词弹窗", "Popup 菜单", "艾宾浩斯"];

      function renderFilters() {
        if (!screensFilters) return;
        screensFilters.innerHTML = "";
        filterOptions.forEach((label, index) => {
          const button = document.createElement("button");
          button.type = "button";
          button.textContent = label;
          button.className =
            "rounded-full border border-black/10 bg-white/70 px-3 py-1.5 text-xs text-slate-700 transition hover:text-slate-900 dark:border-white/10 dark:bg-white/5 dark:text-white/70 dark:hover:text-white";
          if (index === 0) {
            button.classList.add("border-violet-500/40", "bg-violet-500/10", "text-violet-700", "dark:text-violet-300");
          }
          button.setAttribute("data-screen-filter", label === "全部" ? "all" : label);
          screensFilters.appendChild(button);
        });
      }

      function renderThumbs() {
        thumbs.innerHTML = "";
        screenCatalog.forEach((item) => {
          const card = document.createElement("button");
          card.type = "button";
          card.className =
            "masonry-item relative w-full overflow-hidden rounded-2xl border border-black/5 bg-slate-100/70 p-2 text-left shadow-sm transition hover:border-black/10 hover:bg-white/80 focus:outline-none focus:ring-2 focus:ring-purple-500/40 dark:border-white/10 dark:bg-white/5 dark:hover:border-white/20 dark:hover:bg-white/7";
          card.setAttribute("data-screen-src-light", item.light);
          card.setAttribute("data-screen-src-dark", item.dark || item.light);
          card.setAttribute("data-screen-alt", item.alt);
          card.setAttribute("data-screen-caption", item.caption);
          card.setAttribute("data-screen-category", item.category);

          const image = document.createElement("img");
          image.setAttribute("src", item.light);
          image.setAttribute("alt", "");
          image.setAttribute("loading", "lazy");
          image.setAttribute("decoding", "async");
          image.setAttribute("data-screen-thumb", "");
          image.setAttribute("data-src-light", item.light);
          image.setAttribute("data-src-dark", item.dark || item.light);
          image.className = "w-full rounded-xl object-contain";
          card.appendChild(image);

          const row = document.createElement("div");
          row.className = "mt-2 flex items-center justify-between gap-2 px-1";
          row.innerHTML = `
            <div class="min-w-0">
              <span class="block truncate text-xs text-slate-700 dark:text-white/70">${item.caption}</span>
              <span class="mt-0.5 inline-flex rounded-full border border-black/10 px-2 py-0.5 text-[10px] text-slate-500 dark:border-white/10 dark:text-white/50">${item.category}</span>
            </div>
            <span class="shrink-0 text-xs text-slate-500 dark:text-white/50">点击查看</span>
          `;
          card.appendChild(row);

          const badge = document.createElement("span");
          badge.className =
            "pointer-events-none absolute right-3 top-3 hidden rounded-full bg-purple-600 px-2 py-1 text-[11px] font-medium text-white";
          badge.setAttribute("data-active-badge", "");
          badge.textContent = "已选";
          card.appendChild(badge);

          thumbs.appendChild(card);
        });
      }

      renderFilters();
      renderThumbs();

      const items = Array.from(thumbs.querySelectorAll("[data-screen-caption]"));
      if (items.length === 0) return;

      const prefersReducedMotion =
        window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;

      function isDarkThemeActive() {
        if (typeof window.__isSiteDarkMode === "function") return window.__isSiteDarkMode();
        return document.documentElement.classList.contains("dark");
      }

      function getScreenSources(el) {
        const light = el.getAttribute("data-screen-src-light") || "";
        const dark = el.getAttribute("data-screen-src-dark") || light;
        const preferred = isDarkThemeActive() ? dark : light;
        return { preferred, fallback: light };
      }

      function applyImageWithFallback(imageEl, preferredSrc, fallbackSrc) {
        const fallback = fallbackSrc || preferredSrc;
        imageEl.onerror = null;
        imageEl.onerror = () => {
          if (imageEl.getAttribute("src") !== fallback) {
            imageEl.setAttribute("src", fallback);
          }
          imageEl.onerror = null;
        };
        imageEl.setAttribute("src", preferredSrc || fallback);
      }

      function refreshThumbTheme() {
        const thumbsImages = thumbs.querySelectorAll("[data-screen-thumb]");
        thumbsImages.forEach((imageEl) => {
          const light = imageEl.getAttribute("data-src-light") || "";
          const dark = imageEl.getAttribute("data-src-dark") || light;
          applyImageWithFallback(imageEl, isDarkThemeActive() ? dark : light, light);
        });
      }
      function getVisibleItems() {
        return items.filter((node) => !node.hidden);
      }

      function updateCount() {
        if (!screensCount) return;
        screensCount.textContent = `已加载 ${getVisibleItems().length} 张`;
      }

      function updateThemeFeatureUi(isDark) {
        if (screensThemeToggle) {
          screensThemeToggle.textContent = isDark
            ? "☀️ 切换到日间联动预览"
            : "🌙 切换到夜间联动预览";
        }
        if (screensThemeStatus) {
          screensThemeStatus.textContent = isDark
            ? "当前：夜间联动预览（网页 + 插件截图）"
            : "当前：日间联动预览（网页 + 插件截图）";
        }
      }

      let currentIndex = 0;
      let activeItem = null;

      function setActiveByElement(el) {
        if (!el) return;
        const { preferred: src, fallback } = getScreenSources(el);
        const alt = el.getAttribute("data-screen-alt") || "应用界面截图";
        const caption = el.getAttribute("data-screen-caption") || "";
        activeItem = el;

        items.forEach((node) => {
          const isActive = node === el;
          node.classList.toggle("ring-2", isActive);
          node.classList.toggle("ring-purple-500/60", isActive);
          node.classList.toggle("ring-offset-2", isActive);
          node.classList.toggle("ring-offset-transparent", isActive);
          node.classList.toggle("scale-[1.01]", isActive);
          node.setAttribute("aria-current", isActive ? "true" : "false");

          const badge = node.querySelector("[data-active-badge]");
          if (badge) badge.classList.toggle("hidden", !isActive);
        });

        if (!prefersReducedMotion) {
          mainImage.classList.add("opacity-0");
          requestAnimationFrame(() => {
            applyImageWithFallback(mainImage, src, fallback);
            mainImage.setAttribute("alt", alt);
            mainCaption.textContent = caption;
            requestAnimationFrame(() => mainImage.classList.remove("opacity-0"));
          });
        } else {
          applyImageWithFallback(mainImage, src, fallback);
          mainImage.setAttribute("alt", alt);
          mainCaption.textContent = caption;
        }
      }

      function setActive(index) {
        const visibleItems = getVisibleItems();
        if (visibleItems.length === 0) return;
        const safeIndex = (index + visibleItems.length) % visibleItems.length;
        currentIndex = safeIndex;
        setActiveByElement(visibleItems[safeIndex]);
      }

      items.forEach((el, index) => {
        el.addEventListener("click", () => {
          stopAutoplay();
          const visibleItems = getVisibleItems();
          const nextIndex = visibleItems.indexOf(el);
          currentIndex = nextIndex >= 0 ? nextIndex : 0;
          setActiveByElement(el);
        });
      });

      function applyFilter(filterValue) {
        items.forEach((node) => {
          const category = node.getAttribute("data-screen-category") || "";
          node.hidden = !(filterValue === "all" || category === filterValue);
        });
        if (screensFilters) {
          screensFilters.querySelectorAll("[data-screen-filter]").forEach((button) => {
            const isActive = button.getAttribute("data-screen-filter") === filterValue;
            button.classList.toggle("border-violet-500/40", isActive);
            button.classList.toggle("bg-violet-500/10", isActive);
            button.classList.toggle("text-violet-700", isActive);
            button.classList.toggle("dark:text-violet-300", isActive);
          });
        }
        const visibleItems = getVisibleItems();
        updateCount();
        if (visibleItems.length === 0) return;
        if (!activeItem || activeItem.hidden) {
          currentIndex = 0;
          setActive(0);
          return;
        }
        const currentVisibleIndex = visibleItems.indexOf(activeItem);
        currentIndex = currentVisibleIndex >= 0 ? currentVisibleIndex : 0;
        setActive(currentIndex);
      }

      if (screensFilters) {
        screensFilters.addEventListener("click", (event) => {
          const target = event.target;
          if (!(target instanceof HTMLElement)) return;
          const filterValue = target.getAttribute("data-screen-filter");
          if (!filterValue) return;
          stopAutoplay();
          applyFilter(filterValue);
        });
      }

      // Lightbox
      const modal = document.createElement("div");
      modal.className =
        "fixed inset-0 z-[60] hidden items-center justify-center bg-black/70 p-4 backdrop-blur";
      modal.innerHTML = `
        <div class="relative w-full max-w-5xl">
          <button type="button" class="absolute -top-12 right-0 rounded-full bg-white/10 px-3 py-2 text-sm text-white hover:bg-white/20" data-close>关闭</button>
          <div class="rounded-2xl bg-black/30 p-2">
            <img class="max-h-[82vh] w-full rounded-xl object-contain" alt="" />
          </div>
          <div class="mt-3 flex items-center justify-between text-sm text-white/80">
            <span data-caption></span>
            <span class="text-white/60"><span data-index></span>/<span data-total></span></span>
          </div>
          <button type="button" class="absolute left-0 top-1/2 -translate-y-1/2 rounded-full bg-white/10 px-3 py-2 text-white hover:bg-white/20" data-prev aria-label="上一张">‹</button>
          <button type="button" class="absolute right-0 top-1/2 -translate-y-1/2 rounded-full bg-white/10 px-3 py-2 text-white hover:bg-white/20" data-next aria-label="下一张">›</button>
        </div>
      `;
      document.body.appendChild(modal);

      const modalImage = modal.querySelector("img");
      const modalCaption = modal.querySelector("[data-caption]");
      const modalIndex = modal.querySelector("[data-index]");
      const modalTotal = modal.querySelector("[data-total]");
      const closeModalButton = modal.querySelector("[data-close]");
      const prevModalButton = modal.querySelector("[data-prev]");
      const nextModalButton = modal.querySelector("[data-next]");

      function openModal() {
        modalTotal.textContent = String(getVisibleItems().length || items.length);
        syncModal();
        modal.classList.remove("hidden");
        modal.classList.add("flex");
        document.body.style.overflow = "hidden";
      }

      function closeModal() {
        modal.classList.add("hidden");
        modal.classList.remove("flex");
        document.body.style.overflow = "";
      }

      function syncModal() {
        const visibleItems = getVisibleItems();
        if (visibleItems.length === 0) return;
        const el = activeItem && !activeItem.hidden ? activeItem : visibleItems[currentIndex] || visibleItems[0];
        const { preferred: src, fallback } = getScreenSources(el);
        const alt = el.getAttribute("data-screen-alt") || "应用界面截图";
        const caption = el.getAttribute("data-screen-caption") || "";
        applyImageWithFallback(modalImage, src, fallback);
        modalImage.setAttribute("alt", alt);
        modalCaption.textContent = caption;
        modalIndex.textContent = String(currentIndex + 1);
      }

      function prev() {
        setActive(currentIndex - 1);
        syncModal();
      }
      function next() {
        setActive(currentIndex + 1);
        syncModal();
      }

      mainButton.addEventListener("click", () => {
        stopAutoplay();
        openModal();
      });

      modal.addEventListener("click", (e) => {
        if (e.target === modal) closeModal();
      });
      closeModalButton.addEventListener("click", closeModal);
      prevModalButton.addEventListener("click", prev);
      nextModalButton.addEventListener("click", next);

      document.addEventListener("keydown", (e) => {
        if (modal.classList.contains("hidden")) return;
        if (e.key === "Escape") closeModal();
        if (e.key === "ArrowLeft") prev();
        if (e.key === "ArrowRight") next();
      });

      // Autoplay
      let autoplayTimer = null;

      function setAutoplayUi(isOn) {
        if (!autoplayButton) return;
        autoplayButton.setAttribute("aria-pressed", isOn ? "true" : "false");
        autoplayButton.textContent = isOn ? "暂停播放" : "自动播放";
      }

      function startAutoplay() {
        if (prefersReducedMotion || autoplayTimer) return;
        autoplayTimer = window.setInterval(() => {
          setActive(currentIndex + 1);
        }, 3500);
        setAutoplayUi(true);

        const progressBar = document.getElementById("screensProgressBar");
        if (progressBar) {
          progressBar.classList.remove("screens-progress-on");
          void progressBar.offsetWidth;
          progressBar.classList.add("screens-progress-on");
        }
      }

      function stopAutoplay() {
        if (!autoplayTimer) return;
        window.clearInterval(autoplayTimer);
        autoplayTimer = null;
        setAutoplayUi(false);

        const progressBar = document.getElementById("screensProgressBar");
        if (progressBar) {
          progressBar.classList.remove("screens-progress-on");
          progressBar.style.transform = "scaleX(0)";
          void progressBar.offsetWidth;
          progressBar.style.transform = "";
        }
      }

      if (autoplayButton) {
        autoplayButton.addEventListener("click", () => {
          const pressed = autoplayButton.getAttribute("aria-pressed") === "true";
          if (pressed) stopAutoplay();
          else startAutoplay();
        });
      }

      if (screensThemeToggle) {
        screensThemeToggle.addEventListener("click", () => {
          if (typeof window.__setSiteTheme === "function") {
            window.__setSiteTheme(!isDarkThemeActive());
          }
        });
      }

      // Theme switches to corresponding screenshot variants.
      window.addEventListener("themechange", (event) => {
        const isDark = event?.detail?.isDark ?? isDarkThemeActive();
        refreshThumbTheme();
        if (activeItem && !activeItem.hidden) setActiveByElement(activeItem);
        else setActive(currentIndex);
        if (!modal.classList.contains("hidden")) syncModal();
        updateThemeFeatureUi(isDark);
      });

      // Pause while interacting with the screenshots area.
      if (screensSection) {
        screensSection.addEventListener("mouseenter", stopAutoplay);
        screensSection.addEventListener("mouseleave", () => {
          if (!prefersReducedMotion) startAutoplay();
        });
        screensSection.addEventListener("focusin", stopAutoplay);
        screensSection.addEventListener("focusout", () => {
          if (!prefersReducedMotion) startAutoplay();
        });
      }

      // Initial state
      mainImage.classList.add("transition-opacity", "duration-200");
      refreshThumbTheme();
      applyFilter("all");
      updateThemeFeatureUi(isDarkThemeActive());

      // Auto start (unless user prefers reduced motion)
      if (!prefersReducedMotion) startAutoplay();
    })();
  </script>
</body>
</html>
